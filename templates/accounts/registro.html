{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}Cadastro - ACJOGOS-RJ{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7">
            <div class="card shadow-sm">
                <div class="card-body p-4">
                    <div class="text-center mb-4">
                        <i class="bi bi-person-plus" style="font-size: 3rem; color: #0d6efd;"></i>
                        <h3 class="mt-3">Criar Conta</h3>
                        <p class="text-muted">Junte-se ao ecossistema de jogos do Rio de Janeiro</p>
                    </div>

                    <form method="post">
                        {% csrf_token %}
                        
                        <!-- Dados de Acesso -->
                        <h5 class="border-bottom pb-2 mb-3">
                            <i class="bi bi-key"></i> Dados de Acesso
                        </h5>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.username.id_for_label }}" class="form-label">
                                    Nome de usuário *
                                </label>
                                {{ form.username }}
                                {% if form.username.errors %}
                                    <div class="text-danger small">{{ form.username.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.email.id_for_label }}" class="form-label">
                                    E-mail *
                                </label>
                                {{ form.email }}
                                {% if form.email.errors %}
                                    <div class="text-danger small">{{ form.email.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.password1.id_for_label }}" class="form-label">
                                    Senha *
                                </label>
                                {{ form.password1 }}
                                {% if form.password1.errors %}
                                    <div class="text-danger small">{{ form.password1.errors }}</div>
                                {% endif %}
                                <small class="text-muted">Mínimo 8 caracteres</small>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.password2.id_for_label }}" class="form-label">
                                    Confirmar senha *
                                </label>
                                {{ form.password2 }}
                                {% if form.password2.errors %}
                                    <div class="text-danger small">{{ form.password2.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Dados Pessoais -->
                        <h5 class="border-bottom pb-2 mb-3 mt-4">
                            <i class="bi bi-person"></i> Dados Pessoais
                        </h5>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.nome_completo.id_for_label }}" class="form-label">
                                    Nome completo *
                                </label>
                                {{ form.nome_completo }}
                                {% if form.nome_completo.errors %}
                                    <div class="text-danger small">{{ form.nome_completo.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.nome_social.id_for_label }}" class="form-label">
                                    Nome social
                                </label>
                                {{ form.nome_social }}
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.cpf.id_for_label }}" class="form-label">
                                    CPF *
                                </label>
                                {{ form.cpf }}
                                {% if form.cpf.errors %}
                                    <div class="text-danger small">{{ form.cpf.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.telefone.id_for_label }}" class="form-label">
                                    Telefone *
                                </label>
                                {{ form.telefone }}
                                {% if form.telefone.errors %}
                                    <div class="text-danger small">{{ form.telefone.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="{{ form.discord_nick.id_for_label }}" class="form-label">
                                <i class="bi bi-discord"></i> Nick no Discord
                            </label>
                            {{ form.discord_nick }}
                        </div>

                        <!-- Endereço -->
                        <h5 class="border-bottom pb-2 mb-3 mt-4">
                            <i class="bi bi-geo-alt"></i> Endereço
                        </h5>
                        
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.cep.id_for_label }}" class="form-label">
                                    CEP *
                                </label>
                                {{ form.cep }}
                                {% if form.cep.errors %}
                                    <div class="text-danger small">{{ form.cep.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-8 mb-3">
                                <label for="{{ form.endereco.id_for_label }}" class="form-label">
                                    Endereço *
                                </label>
                                {{ form.endereco }}
                                {% if form.endereco.errors %}
                                    <div class="text-danger small">{{ form.endereco.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label for="{{ form.numero.id_for_label }}" class="form-label">
                                    Número *
                                </label>
                                {{ form.numero }}
                                {% if form.numero.errors %}
                                    <div class="text-danger small">{{ form.numero.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-9 mb-3">
                                <label for="{{ form.complemento.id_for_label }}" class="form-label">
                                    Complemento
                                </label>
                                {{ form.complemento }}
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.bairro.id_for_label }}" class="form-label">
                                    Bairro *
                                </label>
                                {{ form.bairro }}
                                {% if form.bairro.errors %}
                                    <div class="text-danger small">{{ form.bairro.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.cidade.id_for_label }}" class="form-label">
                                    Cidade *
                                </label>
                                {{ form.cidade }}
                                {% if form.cidade.errors %}
                                    <div class="text-danger small">{{ form.cidade.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="alert alert-info mt-3">
                            <small>
                                <i class="bi bi-info-circle"></i> 
                                Ao se cadastrar, você será registrado como <strong>Afiliado</strong>. 
                                Para se tornar um Associado, entre em contato com a diretoria.
                            </small>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 mt-3">
                            <i class="bi bi-check-circle"></i> Criar Conta
                        </button>
                    </form>
                </div>
                <div class="card-footer text-center bg-light">
                    <p class="mb-0">
                        Já tem uma conta? 
                        <a href="{% url 'accounts:login' %}" class="text-decoration-none">
                            Faça login
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}